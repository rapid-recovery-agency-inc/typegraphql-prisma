"use strict";(self.webpackChunktypegraphql_prisma_website=self.webpackChunktypegraphql_prisma_website||[]).push([[908],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),d=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=d(n),g=a,m=u["".concat(l,".").concat(g)]||u[g]||c[g]||o;return n?r.createElement(m,i(i({ref:t},s),{},{components:n})):r.createElement(m,i({ref:t},s))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var d=2;d<o;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3175:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>p,toc:()=>d});var r=n(7462),a=(n(7294),n(3905));const o={title:"Configuration",sidebar_position:2},i=void 0,p={unversionedId:"basics/configuration",id:"basics/configuration",title:"Configuration",description:"Creating generator block",source:"@site/../docs/basics/configuration.md",sourceDirName:"basics",slug:"/basics/configuration",permalink:"/docs/basics/configuration",draft:!1,editUrl:"https://github.com/MichalLytek/typegraphql-prisma/edit/main/docs/../docs/basics/configuration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Configuration",sidebar_position:2},sidebar:"docs",previous:{title:"Installation",permalink:"/docs/basics/installation"},next:{title:"Usage",permalink:"/docs/basics/usage"}},l={},d=[{value:"Creating generator block",id:"creating-generator-block",level:2},{value:"Changing output folder",id:"changing-output-folder",level:2},{value:"Emitting transpiled code",id:"emitting-transpiled-code",level:2},{value:"Formatting generated code",id:"formatting-generated-code",level:2}],s={toc:d};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"creating-generator-block"},"Creating generator block"),(0,a.kt)("p",null,"After installation, you need to update your ",(0,a.kt)("inlineCode",{parentName:"p"},"schema.prisma")," file and then add a new generator section below the ",(0,a.kt)("inlineCode",{parentName:"p"},"client")," one:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-prisma",metastring:"{10-12}","{10-12}":!0},'datasource postgres {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\ngenerator client {\n  provider = "prisma-client-js"\n}\n\ngenerator typegraphql {\n  provider = "typegraphql-prisma"\n}\n')),(0,a.kt)("p",null,"Then run ",(0,a.kt)("inlineCode",{parentName:"p"},"npx prisma generate")," - this will emit the generated TypeGraphQL classes to the ",(0,a.kt)("inlineCode",{parentName:"p"},"@generated/type-graphql")," folder inside ",(0,a.kt)("inlineCode",{parentName:"p"},"node_modules"),"."),(0,a.kt)("h2",{id:"changing-output-folder"},"Changing output folder"),(0,a.kt)("p",null,"When you want to emit the generated files into a different folder, you can configure the default output folder via the ",(0,a.kt)("inlineCode",{parentName:"p"},"output")," config option, e.g.:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-prisma",metastring:"{3}","{3}":!0},'generator typegraphql {\n  provider = "typegraphql-prisma"\n  output   = "../prisma/generated/type-graphql"\n}\n')),(0,a.kt)("h2",{id:"emitting-transpiled-code"},"Emitting transpiled code"),(0,a.kt)("p",null,"By default, when the output path contains ",(0,a.kt)("inlineCode",{parentName:"p"},"node_modules"),", the generated code is transpiled - consist of ",(0,a.kt)("inlineCode",{parentName:"p"},"*.js")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"*.d.ts")," files that are ready to use (import) in your code."),(0,a.kt)("p",null,"However, if you explicitly choose some other (non ",(0,a.kt)("inlineCode",{parentName:"p"},"node_modules"),") folder in ",(0,a.kt)("inlineCode",{parentName:"p"},"output")," config, the generated code will be emitted as a raw TS source code files which you can just use and import like your other source code files."),(0,a.kt)("p",null,"You can override that behavior by explicitly setting ",(0,a.kt)("inlineCode",{parentName:"p"},"emitTranspiledCode")," config option:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-prisma",metastring:"{4}","{4}":!0},'generator typegraphql {\n  provider           = "typegraphql-prisma"\n  output             = "../prisma/generated/type-graphql"\n  emitTranspiledCode = true\n}\n')),(0,a.kt)("h2",{id:"formatting-generated-code"},"Formatting generated code"),(0,a.kt)("p",null,"By default, the generated code is formatted by TypeScript compiler while emitting."),(0,a.kt)("p",null,"However, if you prefer some other code style, you can provide ",(0,a.kt)("inlineCode",{parentName:"p"},"formatGeneratedCode")," generator option to format the codebase with ",(0,a.kt)("a",{parentName:"p",href:"https://prettier.io/"},"Prettier"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-prisma",metastring:"{4}","{4}":!0},'generator typegraphql {\n  provider            = "typegraphql-prisma"\n  output              = "../prisma/generated/type-graphql"\n  formatGeneratedCode = "prettier"\n}\n')),(0,a.kt)("p",null,"Prettier will look for the configuration file in your project tree and use it to format the generated code. If no config file detected, default settings will be applied."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Be aware that formatting code by Prettier has a quite huge impact on the generation time, so use it with caution.")),(0,a.kt)("p",null,"If you git-ignore the generated files or you don't want to read the generated source code, you can ignore the generated code style and disable the formatting at all - by providing ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," value to ",(0,a.kt)("inlineCode",{parentName:"p"},"formatGeneratedCode")," generator option:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-prisma",metastring:"{4}","{4}":!0},'generator typegraphql {\n  provider            = "typegraphql-prisma"\n  output              = "../prisma/generated/type-graphql"\n  formatGeneratedCode = false\n}\n')),(0,a.kt)("p",null,"This way you can save even up to 33% of the generation process time."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"When the generator is configured to emit transpiled code, the generated JS code is always formatted by TypeScript compiler and you can't change it to Prettier or disable the formatting by the ",(0,a.kt)("inlineCode",{parentName:"p"},"formatGeneratedCode")," option.")))}c.isMDXComponent=!0}}]);